import{r as i,j as r,m as S}from"./index-DpfGS3Ht.js";const R=({columns:p,data:s,actions:h,emptyMessage:u="No data available",enableBulkSelection:y=!1,onSelectionChange:g,getRowId:l=(a,d)=>a._id||a.id||d})=>{const[a,d]=i.useState(new Set),f=i.useRef(s),x=i.useRef(g),o=i.useRef(l);i.useEffect(()=>{x.current=g,o.current=l},[g,l]),i.useEffect(()=>{const e=f.current;(!e||e.length!==s.length||JSON.stringify(e.map((t,n)=>o.current(t,n)))!==JSON.stringify(s.map((t,n)=>o.current(t,n))))&&(d(new Set),f.current=s)},[s]),i.useEffect(()=>{if(x.current&&a.size>0){const e=s.filter((c,t)=>a.has(o.current(c,t)));x.current(e,a.size)}else x.current&&a.size===0&&x.current([],0)},[a,s]);const j=e=>{if(e.target.checked){const c=new Set(s.map((t,n)=>l(t,n)));d(c)}else d(new Set)},b=e=>{d(c=>{const t=new Set(c);return t.has(e)?t.delete(e):t.add(e),t})},N=s.length>0&&a.size===s.length,k=a.size>0&&a.size<s.length;return!s||s.length===0?r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-8 text-center",children:r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u})}):r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full min-w-max",children:[r.jsx("thead",{className:"bg-gradient-to-r from-pink-50 to-lavender-50 dark:from-gray-700 dark:to-gray-700 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("tr",{children:[y&&r.jsx("th",{className:"px-4 py-4 w-12",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",checked:N,ref:e=>{e&&(e.indeterminate=k)},onChange:j,className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary cursor-pointer"})})}),p.map((e,c)=>r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:e.header},c)),h&&r.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map((e,c)=>{const t=l(e,c),n=a.has(t);return r.jsxs(S.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:c*.05},className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${n?"bg-primary/5 dark:bg-primary/10":""}`,children:[y&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",checked:n,onChange:()=>b(t),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary cursor-pointer"})})}),p.map((m,v)=>r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:m.render?m.render(e):e[m.accessor]},v)),h&&r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("div",{className:"flex items-center justify-end gap-2",children:h(e)})})]},c)})})]})})})};export{R as T};
