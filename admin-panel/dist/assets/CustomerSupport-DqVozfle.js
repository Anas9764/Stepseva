import{a as P,r as D,j as t,s as $}from"./index-DpfGS3Ht.js";import{T as F}from"./Table-FvLzyYkS.js";import{S as Q}from"./SearchInput-CP9JsF7u.js";import{M as B}from"./Modal-9Na5SDL_.js";import{E as V}from"./eye-B8aLYjqH.js";const ee=()=>{const e=P.c(35),[r,L]=D.useState(""),[a,M]=D.useState("All"),[s,E]=D.useState(null),[x,T]=D.useState(!1);let u;e[0]!==r||e[1]!==a?(u=[].filter(A=>{const R=A.id?.toLowerCase().includes(r.toLowerCase())||A.customerName?.toLowerCase().includes(r.toLowerCase())||A.subject?.toLowerCase().includes(r.toLowerCase()),z=a==="All"||A.status===a;return R&&z}),e[0]=r,e[1]=a,e[2]=u):u=e[2];const l=u;let h,g,p,f,j;e[3]===Symbol.for("react.memo_cache_sentinel")?(h={header:"Ticket ID",accessor:"id",render:q},g={header:"Customer",accessor:"customerName",render:G},p={header:"Subject",accessor:"subject",render:H},f={header:"Status",accessor:"status",render:J},j={header:"Date",accessor:"createdAt",render:K},e[3]=h,e[4]=g,e[5]=p,e[6]=f,e[7]=j):(h=e[3],g=e[4],p=e[5],f=e[6],j=e[7]);let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=[h,g,p,f,j,{header:"Actions",accessor:"actions",render:I=>t.jsx($,{size:"sm",variant:"outline",onClick:()=>{E(I),T(!0)},icon:t.jsx(V,{size:16}),children:"View"})}],e[8]=y):y=e[8];const O=y;let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Customer Support"}),e[9]=b):b=e[9];let c;e[10]!==l.length?(c=t.jsxs("div",{children:[b,t.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Manage customer support tickets â€¢ ",l.length," tickets found"]})]}),e[10]=l.length,e[11]=c):c=e[11];let o;e[12]!==r?(o=t.jsx("div",{className:"flex-1",children:t.jsx(Q,{value:r,onChange:L,placeholder:"Search by ticket ID, customer name, or subject..."})}),e[12]=r,e[13]=o):o=e[13];let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k=I=>M(I.target.value),e[14]=k):k=e[14];let N,w,v,S,C;e[15]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("option",{value:"All",children:"All Status"}),w=t.jsx("option",{value:"Open",children:"Open"}),v=t.jsx("option",{value:"In Progress",children:"In Progress"}),S=t.jsx("option",{value:"Resolved",children:"Resolved"}),C=t.jsx("option",{value:"Closed",children:"Closed"}),e[15]=N,e[16]=w,e[17]=v,e[18]=S,e[19]=C):(N=e[15],w=e[16],v=e[17],S=e[18],C=e[19]);let i;e[20]!==a?(i=t.jsx("div",{className:"sm:w-48",children:t.jsxs("select",{value:a,onChange:k,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[N,w,v,S,C]})}),e[20]=a,e[21]=i):i=e[21];let n;e[22]!==i||e[23]!==o?(n=t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o,i]})}),e[22]=i,e[23]=o,e[24]=n):n=e[24];let d;e[25]!==l?(d=t.jsx(F,{columns:O,data:l,emptyMessage:"No support tickets found"}),e[25]=l,e[26]=d):d=e[26];let m;e[27]!==x||e[28]!==s?(m=x&&s&&t.jsx(B,{isOpen:x,onClose:()=>T(!1),title:"Support Ticket Details",size:"lg",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Ticket Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ticket ID"}),t.jsxs("p",{className:"font-medium text-gray-800 dark:text-white",children:["#",s.id]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Status"}),t.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:s.status})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Customer"}),t.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:s.customerName})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Date"}),t.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:new Date(s.createdAt).toLocaleString("en-IN")})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Subject"}),t.jsx("p",{className:"text-gray-800 dark:text-white",children:s.subject})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Message"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s.message})]})]})}),e[27]=x,e[28]=s,e[29]=m):m=e[29];let _;return e[30]!==n||e[31]!==d||e[32]!==m||e[33]!==c?(_=t.jsxs("div",{className:"space-y-6 w-full",children:[c,n,d,m]}),e[30]=n,e[31]=d,e[32]=m,e[33]=c,e[34]=_):_=e[34],_};function q(e){return`#${e.id}`}function G(e){return e.customerName||"N/A"}function H(e){return e.subject||"N/A"}function J(e){return t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.status==="Resolved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":e.status==="In Progress"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:e.status})}function K(e){return new Date(e.createdAt).toLocaleDateString("en-IN")}export{ee as default};
